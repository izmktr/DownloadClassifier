<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>__MSG_extOptionsTitle__</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <h1 data-i18n="extOptionsTitle" class="page-title">拡張機能の設定</h1>
  <form id="optionsForm">
    <fieldset class="rule-settings-fieldset">
      <legend data-i18n="ruleLegend">ルール</legend>
      <div class="rule-management-container">
        <!-- Left: Rule list box -->
        <div class="rule-list-section">
          <label for="rulesListBox" data-i18n="rulesList">ルール一覧</label>
          <select id="rulesListBox" size="13" style="min-width: 160px;"></select>
            <span data-i18n="ruleOrderNote">ルールは上から順に適用されます。</span><br>
          <div class="rule-list-controls">
            <button type="button" id="moveUpRuleBtn" class="rule-icon-button" data-i18n-title="moveUpTooltip">
              <img src="icons/arrow-up.svg" alt="Move Up">
            </button>
            <button type="button" id="moveDownRuleBtn" class="rule-icon-button" data-i18n-title="moveDownTooltip">
              <img src="icons/arrow-down.svg" alt="Move Down">
            </button>
            <button type="button" id="deleteRuleBtn" class="rule-icon-button" data-i18n-title="deleteTooltip">
              <img src="icons/trash-2.svg" alt="Delete">
            </button>
          </div>
        </div>
        <!-- Right: Rule details input -->
        <div class="rule-details-section">
          <label data-i18n="ruleName">ルール名</label>
            <input type="text" id="ruleName" data-i18n-ph="ruleNamePh" placeholder="例: example.com">
          <br>
          <label data-i18n="sendFolder">移動先フォルダ</label>
            <input type="text" id="sendFolder" data-i18n-ph="sendFolderPh" placeholder="例: images (Dowonload/images/ に保存する場合)">
          <br>
          <label data-i18n="urlPattern">urlパターン</label>
            <input type="text" id="urlPattern" data-i18n-ph="urlPatternPh" placeholder="例: *://*.example.com/*">
          <br>
          <label data-i18n="filePattern">ファイルパターン</label>
            <input type="text" id="filePattern" data-i18n-ph="filePatternPh" placeholder="例: *.jpg">
          <br>
          <label data-i18n="mime">mimeタイプ</label>
            <input type="text" id="mime" data-i18n-ph="mimePh" placeholder="例: image/png">
          <br>
          <button type="button" id="addOrUpdateRuleBtn" data-i18n="add">追加</button>
          <button type="button" id="testRuleBtn" data-i18n="test">テスト</button>
        </div>
      </div>
    </fieldset>
  </form>

  <div class="history-section-container">
    <h2 data-i18n="downloadHistory">ダウンロード履歴</h2>
    <ul id="downloadHistory" class="downloads-list"></ul>
    <div id="historyCountContainer">
      <input type="number" id="historyCountInput" min="1" max="100" value="20">
      <button type="button" id="changeHistoryCountBtn">件数を変更</button>
    </div>
  </div>

  <script src="downloadRule.js"></script>
  <script src="options.js"></script>

  <div class="debug-link-container">
    <a href="debug.html" id="debugLink" data-i18n="debugLink">__MSG_debugLink__</a>
  </div>
</body>
</html>
