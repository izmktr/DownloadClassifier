# DownloadClassifier

このChrome拡張機能は、ダウンロードするファイルをルールに基づいて自動でサブディレクトリに分類します。

## 主な機能
- ファイル名やURLに基づいて、保存先のサブディレクトリを自動で決定します。
- ポップアップで最近のダウンロード履歴を確認できます。
- オプションページで分類ルールを柔軟に設定できます。
- 日本語と英語に対応しています。

## 構成ファイル
- `manifest.json`: 拡張機能のマニフェストファイル
- `background.js`: ダウンロードイベントを監視し、ファイル名を変更するメインスクリプト
- `popup.html`, `popup.js`, `popup.css`: ポップアップ画面（ダウンロード履歴表示）
- `options.html`, `options.js`, `options.css`: 設定画面（ルール編集）
- `debug.html`, `debug.js`: 開発用のデバッグページ
- `_locales/`: 国際化（i18n）のためのメッセージファイル
  - `en/messages.json`: 英語メッセージ
  - `ja/messages.json`: 日本語メッセージ
- `icon.png`: 拡張機能のアイコン

## インストール方法
1. このリポジトリをクローンまたはダウンロードします。
2. Chromeで拡張機能管理ページ（`chrome://extensions/`）を開きます。
3. 右上の「デベロッパーモード」をオンにします。
4. 「パッケージ化されていない拡張機能を読み込む」をクリックし、1で保存したフォルダを選択します。

## 使い方
1. 拡張機能のアイコンをクリックしてポップアップを開くと、最近のダウンロード履歴が表示されます。
2. ポップアップの「オプション」ボタン、または拡張機能管理ページからオプションページを開きます。
3. オプションページで、ファイルの分類ルールを追加・編集します。
    - ルールは上から順に評価されます。
    - ルールに一致した場合、指定されたサブディレクトリにファイルが保存されます。
4. ルールはブラウザのローカルストレージ (`storage.local`) に保存されます。

## 注意事項
- ルールが他の拡張機能と競合する場合、Chromeの仕様により、先にファイル名を提案 (`suggest()`) した拡張機能のものが優先されることがあります。
