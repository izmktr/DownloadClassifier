<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Download Classifier - User Manual</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 800px;
      margin: 20px auto;
      padding: 0 20px;
      background-color: #f9f9f9;
    }
    h1, h2, h3 {
      border-bottom: 2px solid #eee;
      padding-bottom: 10px;
      color: #1a237e;
    }
    h1 {
      text-align: center;
      border-bottom: 3px solid #3f51b5;
    }
    section {
      margin-bottom: 40px;
      background-color: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    code {
      background-color: #eef;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
    }
    ul, ol {
      padding-left: 20px;
    }
    li {
      margin-bottom: 10px;
    }
    .button-like {
      display: inline-block;
      padding: 4px 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      background-color: #f0f0f0;
      font-size: 0.9em;
    }
    .icon-button-like {
      display: inline-block;
      vertical-align: middle;
      padding: 4px;
      border: 1px solid #ccc;
      border-radius: 4px;
      background-color: #f0f0f0;
      line-height: 1;
    }
    .icon-button-like img {
      width: 1.1em;
      height: 1.1em;
      vertical-align: middle;
    }
    .note {
      background-color: #fff9c4;
      border-left: 4px solid #fdd835;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
    }
  </style>
</head>
<body>

  <h1>Download Classifier User Manual</h1>

  <section id="introduction">
    <h2>Introduction</h2>
    <p>
      "Download Classifier" is a Chrome extension designed to keep your download folder tidy. You can create rules to automatically sort files into specific folders based on their type, the website they were downloaded from, and more.
    </p>
    <p>
      For example, you can set up rules to:
    </p>
    <ul>
      <li>Move image files (<code>.jpg</code>, <code>.png</code>) to a folder named "Pictures".</li>
      <li>Move PDF documents (<code>.pdf</code>) to a "Documents/Invoices" folder.</li>
      <li>Move all files downloaded from <code>example.com</code> to a "Work" folder.</li>
    </ul>
  </section>

  <section id="how-to-use">
    <h2>How to Use</h2>
    <p>
      All settings are configured on the <strong>Options page</strong>. Click the gear icon <span class="icon-button-like"><img src="icons/gear.svg" alt="Settings"></span> in the top-right corner of the popup to open it.
    </p>

    <h3>1. Create a New Rule</h3>
    <ol>
      <li>In the "Rule List" on the left side of the options page, ensure that "(New Rule)" is selected.</li>
      <li>Fill in the required information in the "Rule Details" section on the right.
        <ul>
          <li><strong>Rule Name:</strong> A descriptive name for your rule (e.g., "Image Files").</li>
          <li><strong>Destination Folder:</strong> The name of the folder where you want to save the files (e.g., <code>images</code> or <code>documents/invoices</code>).</li>
          <li><strong>URL Pattern:</strong> Enter if you want the rule to apply to files from a specific website (e.g., <code>*://*.google.com/*</code>).</li>
          <li><strong>Filename Pattern:</strong> Enter if you want the rule to apply to specific filenames or extensions (e.g., <code>*.png</code> or <code>report-*.pdf</code>).</li>
          <li><strong>MIME Type:</strong> Enter if you want the rule to apply based on the file type (e.g., <code>image/*</code>).</li>
        </ul>
      </li>
      <li>Click the <span class="button-like">Add</span> button to save the rule.</li>
    </ol>
    <div class="note">
      <strong>Important: Restriction on Destination Folders</strong><br>
      Due to Chrome's security policy, files can only be moved to folders <strong>within Chrome's default download folder</strong>.<br>
      For example, if you enter <code>images</code> in the Destination Folder, files will be saved to `(Your Default Download Folder)/images/`.<br>
      You cannot specify absolute paths (e.g., <code>C:\Users\...</code> or <code>/Users/...</code>).
    </div>
    <div class="note">
      <strong>Tip: Using Wildcards in Patterns</strong><br>
      You can use wildcards in the URL, Filename, and MIME Type patterns.
      <ul>
        <li><code>*</code> (asterisk): Matches any sequence of zero or more characters.</li>
        <li><code>?</code> (question mark): Matches any single character.</li>
      </ul>
      For example, <code>*://example.com/downloads/*</code> matches all URLs under the `downloads` directory of `example.com`.
    </div>

    <h3>2. Create a Rule from Download History</h3>
    <p>
      You can also easily create rules using files you've downloaded in the past.
    </p>
    <ol>
      <li>Look at the "Download History" section at the bottom of the options page.</li>
      <li>Click the <span class="button-like">Add rule with this file</span> button next to the file you want to create a rule for.</li>
      <li>The "Rule Details" form will be automatically filled with patterns inferred from the file's information.</li>
      <li>Review and modify the details, then click the <span class="button-like">Add</span> button.</li>
    </ol>

    <h3>3. Test a Rule</h3>
    <p>
      You can check if your rule works as intended before saving it.
    </p>
    <ol>
      <li>Enter the rule information you want to test in the "Rule Details" section.</li>
      <li>Click the <span class="button-like">Test</span> button.</li>
      <li>In the "Download History" section, items that match the rule will be highlighted in yellow.</li>
    </ol>

    <h3>4. Manage Rules</h3>
    <ul>
      <li><strong>Update:</strong> Select a rule from the list, edit its details, and then click the <span class="button-like">Update</span> button.</li>
      <li><strong>Delete:</strong> Select a rule from the list and click the <span class="icon-button-like"><img src="icons/trash-2.svg" alt="Delete"></span> button.</li>
      <li><strong>Change Order:</strong> Rules are applied from top to bottom. Use the <span class="icon-button-like"><img src="icons/arrow-up.svg" alt="Up"></span> / <span class="icon-button-like"><img src="icons/arrow-down.svg" alt="Down"></span> buttons to change the priority of rules. The first rule that matches will be applied.</li>
    </ul>
  </section>

  <section id="popup">
    <h2>About the Popup Window</h2>
    <p>
      Click the extension icon in your browser's toolbar to open the popup window.
    </p>
    <ul>
      <li><strong>Recent Downloads:</strong> Shows your recent download history. You can also check the status of ongoing downloads.</li>
      <li><strong>Related Files:</strong> Files that seem highly relevant to the title of the currently open page may be highlighted at the top of the list.</li>
      <li><strong>Go to Options Page:</strong> Open the options page from the gear icon <span class="icon-button-like"><img src="icons/gear.svg" alt="Settings"></span> in the top-right corner.</li>
    </ul>
  </section>

</body>
</html>